// AWS Lambda code for reference

// const AWS = require('aws-sdk')

// const db = new AWS.DynamoDB.DocumentClient({
//     region: 'us-east-1'
// });

// exports.handler = async (event, context, callback) => {

//   // let number = event['Details']['Parameters']['phoneNumber'];
//   let number = '7373462592'

//   // Dictionary with the most common 1,000 words (filtered out less than 2 or more than 5 letters)
//   let dictionary = ['and', 'have', 'too', 'that', 'for', 'you', 'with', 'say', 'this', 'they', 'but', 'his', 'from', 'that', 'not', 'can’t', 'won’t', 'she', 'what', 'their', 'can', 'who', 'get', 'would', 'her', 'all', 'make', 'about', 'know', 'will', 'one', 'time', 'there', 'year', 'think', 'when', 'which', 'them', 'some', 'take', 'out', 'into', 'just', 'see', 'him', 'your', 'come', 'could', 'now', 'than', 'like', 'other', 'how', 'then', 'its', 'our', 'two', 'more', 'these', 'want', 'way', 'look', 'first', 'also', 'new', 'day', 'more', 'use', 'man', 'find', 'here', 'thing', 'give', 'many', 'well', 'only', 'those', 'tell', 'one', 'very', 'her', 'even', 'back', 'any', 'good', 'woman', 'life', 'child', 'there', 'work', 'down', 'may', 'after', 'call', 'world', 'over', 'still', 'try', 'last', 'ask', 'need', 'too', 'feel', 'three', 'when', 'state', 'never', 'high', 'most', 'much', 'own', 'out', 'leave', 'put', 'old', 'while', 'mean', 'keep', 'why', 'let', 'great', 'same', 'big', 'group', 'begin', 'seem', 'help', 'talk', 'where', 'turn', 'every', 'start', 'hand', 'might', 'show', 'part', 'about', 'place', 'over', 'such', 'again', 'few', 'case', 'most', 'week', 'where', 'each', 'right', 'hear', 'work', 'play', 'run', 'small', 'off', 'move', 'like', 'night', 'live', 'point', 'hold', 'today', 'bring', 'next', 'large', 'all', 'must', 'home', 'under', 'water', 'room', 'write', 'area', 'money', 'story', 'young', 'fact', 'month', 'lot', 'right', 'study', 'book', 'eye', 'job', 'word', 'issue', 'side', 'kind', 'four', 'head', 'far', 'black', 'long', 'both', 'house', 'yes', 'after', 'since', 'long', 'sit', 'away', 'until', 'power', 'hour', 'game', 'often', 'yet', 'line', 'end', 'among', 'ever', 'stand', 'bad', 'lose', 'pay', 'law', 'meet', 'car', 'city', 'set', 'later', 'much', 'name', 'five', 'once', 'white', 'least', 'learn', 'real', 'team', 'best', 'idea', 'kid', 'body', 'ago', 'right', 'lead', 'back', 'watch', 'only', 'stop', 'face', 'speak', 'read', 'level', 'allow', 'add', 'spend', 'door', 'art', 'sure', 'such', 'war', 'party', 'grow', 'open', 'walk', 'low', 'win', 'girl', 'guy', 'early', 'food', 'air', 'force', 'offer', 'both', 'foot', 'boy', 'maybe', 'able', 'age', 'off', 'love', 'music', 'buy', 'human', 'wait', 'serve', 'die', 'send', 'home', 'sense', 'build', 'stay', 'fall', 'plan', 'cut', 'death', 'reach', 'local', 'kill', 'six', 'use', 'yeah', 'class', 'raise', 'care', 'late', 'hard', 'field', 'else', 'pass', 'sell', 'major', 'along', 'role', 'rate', 'heart', 'drug', 'show', 'light', 'voice', 'wife', 'whole', 'mind', 'pull', 'free', 'price', 'less', 'son', 'hope', 'even', 'view', 'carry', 'town', 'road', 'drive', 'arm', 'true', 'break', 'thank', 'value', 'full', 'model', 'join', 'tax', 'early', 'agree', 'pick', 'wear', 'paper', 'space', 'form', 'event', 'whose', 'site', 'end', 'hit', 'base', 'star', 'table', 'need', 'court', 'eat', 'teach', 'oil', 'half', 'easy', 'cost', 'face', 'image', 'phone', 'data', 'cover', 'quite', 'clear', 'piece', 'land', 'wall', 'news', 'test', 'movie', 'north', 'love', 'open', 'third', 'catch', 'step', 'baby', 'type', 'draw', 'film', 'tree', 'red', 'cause', 'hair', 'look', 'point', 'soon', 'less', 'plant', 'term', 'short', 'place', 'rule', 'south', 'floor', 'well', 'call', 'close', 'risk', 'fire', 'wrong', 'bank', 'west', 'sport', 'board', 'seek', 'per', 'rest', 'deal', 'fight', 'throw', 'top', 'past', 'goal', 'bed', 'order', 'fill', 'focus', 'drop', 'plan', 'blood', 'upon', 'push', 'color', 'store', 'sound', 'note', 'fine', 'near', 'page', 'enter', 'share', 'than', 'poor', 'other', 'race', 'hot', 'each', 'dead', 'rise', 'shoot', 'east', 'save', 'seven', 'away', 'scene', 'stock', 'eight', 'thus', 'happy', 'lie', 'size', 'dog', 'fund', 'occur', 'media', 'ready', 'sign', 'list', 'hard', 'left', 'argue', 'cup', 'staff', 'loss', 'box', 'trade', 'deal', 'lay', 'bill', 'fail', 'name', 'sex', 'glass', 'skill', 'crime', 'stage', 'miss', 'sort', 'one', 'act', 'ten', 'gun', 'blue', 'state', 'force', 'truth', 'song', 'check', 'leg', 'dark', 'laugh', 'guess', 'set', 'study', 'prove', 'hang', 'rock', 'since', 'claim', 'note', 'help', 'close', 'sound', 'enjoy', 'legal', 'cold', 'form', 'final', 'main', 'green', 'card', 'above', 'seat', 'cell', 'nice', 'trial', 'that', 'firm', 'radio', 'visit', 'care', 'avoid', 'huge', 'ball', 'close', 'talk', 'onto', 'peace', 'head', 'base', 'pain', 'apply', 'play', 'wide', 'shake', 'fly', 'chair', 'fish', 'bit', 'top', 'treat', 'trip', 'unit', 'best', 'style', 'adult', 'worry', 'range', 'far', 'deep', 'front', 'edge', 'fear', 'sea', 'dream', 'bar', 'stuff', 'claim']

//   // Dictionary with the most common 5,000, with the same filter as above.
//   //let dictionary = ['you', 'the', 'for', 'have', 'just', 'not', 'was', 'your', 'with', 'this', 'all', 'about', 'well', 'get', 'right', 'here', 'her', 'she', 'out', 'can', 'and', 'now', 'him', 'but', 'why', 'one', 'see', 'come', 'good', 'they', 'back', 'from', 'when', 'were', 'that', 'his', 'who', 'want', 'then', 'say', 'way', 'never', 'sure', 'yes', 'more', 'our', 'sorry', 'there', 'where', 'down', 'some', 'over', 'man', 'very', 'much', 'even', 'life', 'any', 'thank', 'off', 'too', 'two', 'help', 'talk', 'God', 'wait', 'still', 'into', 'find', 'again', 'thing', 'call', 'maybe', 'told', 'great', 'night', 'first', 'than', 'away', 'fine', 'home', 'after', 'these', 'put', 'last', 'those', 'long', 'stop', 'big', 'lot', 'kind', 'wrong', 'new', 'care', 'guess', 'bad', 'mom', 'leave', 'place', 'dad', 'hear', 'baby', 'nice', 'else', 'let', 'their', 'might', 'mind', 'try', 'every', 'stay', 'came', 'hell', 'whole', 'house', 'only', 'idea', 'must', 'best', 'hello', 'old', 'woman', 'room', 'which', 'real', 'left', 'money', 'son', 'hope', 'same', 'name', 'happy', 'show', 'sir', 'girl', 'ever', 'next', 'three', 'world', 'honey', 'hurt', 'found', 'both', 'while', 'dead', 'ask', 'since', 'kill', 'start', 'hard', 'today', 'car', 'ready', 'may', 'took', 'deal', 'once', 'head', 'stuff', 'most', 'worry', 'part', 'truth', 'alone', 'until', 'cause', 'soon', 'wife', 'use', 'run', 'heart', 'bye', 'such', 'own', 'point', 'meet', 'phone', 'later', 'lost', 'look', 'case', 'trust', 'bring', 'wish', 'check', 'end', 'least', 'town', 'late', 'five', 'year', 'make', 'hate', 'ago', 'mean', 'play', 'fact', 'crazy', 'open', 'sit', 'party', 'rest', 'fun', 'day', 'glad', 'kid', 'each', 'bit', 'door', 'close', 'break', 'set', 'easy', 'far', 'mine', 'time', 'need', 'walk', 'shut', 'able', 'hit', 'stand', 'die', 'story', 'funny', 'four', 'news', 'cool', 'pay', 'child', 'half', 'young', 'yours', 'sleep', 'men', 'sonny', 'them', 'bed', 'lucky', 'pick', 'also', 'date', 'fire', 'line', 'lose', 'free', 'hand', 'ahead', 'fight', 'shit', 'move', 'past', 'cut', 'game', 'eat', 'sick', 'quite', 'death', 'along', 'safe', 'seem', 'upset', 'front', 'shot', 'hot', 'six', 'love', 'clear', 'drink', 'how', 'sense', 'sweet', 'alive', 'bet', 'blood', 'dear', 'sound', 'full', 'lie', 'fault', 'water', 'buy', 'ten', 'hour', 'women', 'speak', 'body', 'hang', 'think', 'order', 'worse', 'spend', 'send', 'power', 'sign', 'sex', 'boy', 'weird', 'hair', 'luck', 'touch', 'kiss', 'grace', 'white', 'crane', 'pain', 'fast', 'word', 'drive', 'food', 'none', 'work', 'marry', 'drop', 'frank', 'test', 'high', 'sent', 'city', 'poor', 'class', 'dream', 'mad', 'gun', 'dance', 'week', 'know', 'take', 'act', 'worth', 'piece', 'top', 'swear', 'busy', 'law', 'catch', 'less', 'black', 'movie', 'step', 'fall', 'admit', 'dog', 'win', 'evil', 'feel', 'miss', 'tired', 'eye', 'human', 'broke', 'red', 'calm', 'club', 'trip', 'blame', 'fair', 'court', 'clean', 'learn', 'prove', 'relax', 'small', 'table', 'smart', 'ring', 'mouth', 'shall', 'ride', 'team', 'shoot', 'wear', 'stick', 'angry', 'ray', 'write', 'buddy', 'early', 'nick', 'war', 'angel', 'jail', 'ran', 'lunch', 'music', 'eight', 'tape', 'tough', 'count', 'agree', 'proud', 'seven', 'share', 'bill', 'hurry', 'feet', 'offer', 'would', 'voice', 'list', 'cute', 'mess', 'Jesus', 'dress', 'hotel', 'quiet', 'enjoy', 'eve', 'road', 'short', 'fix', 'beat', 'near', 'bar', 'spent', 'gift', 'dark', 'pass', 'aunt', 'self', 'apart', 'floor', 'plan', 'box', 'earth', 'cover', 'sake', 'judge', 'worst', 'blow', 'mommy', 'plane', 'save', 'quick', 'stuck', 'store', 'ball', 'bag', 'blue', 'doubt', 'deep', 'lord', 'park', 'key', 'join', 'under', 'soul', 'crime', 'magic', 'uncle', 'joke', 'lead', 'cell', 'push', 'boss', 'rule', 'born', 'risk', 'song', 'boat', 'seat', 'hide', 'brain', 'nine', 'huge', 'age', 'sell', 'awful', 'dying', 'chief', 'quit', 'gay', 'faith', 'month', 'screw', 'visit', 'fool', 'sad', 'press', 'smell', 'spell', 'board', 'slow', 'rose', 'force', 'mark', 'space', 'fly', 'kick', 'grab', 'third', 'cat', 'other', 'fifty', 'mile', 'fat', 'rock', 'agent', 'bunch', 'idiot', 'track', 'shoes', 'scene', 'demon', 'low', 'face', 'drunk', 'tell', 'knock', 'cash', 'give', 'bell', 'nose', 'turn', 'keep', 'extra', 'beer', 'whose', 'type', 'book', 'wrote', 'king', 'waste', 'wall', 'jump', 'warm', 'pull', 'proof', 'suit', 'twice', 'drug', 'fit', 'begin', 'smile', 'ruin', 'fish', 'treat', 'laugh', 'amber', 'fear', 'guy', 'green', 'mail', 'pop', 'stole', 'paper', 'sing', 'note', 'tree', 'glass', 'shop', 'cry', 'bus', 'cake', 'reach', 'study', 'star', 'area', 'wind', 'dry', 'error', 'hero', 'build', 'are', 'add', 'sea', 'birth', 'heavy', 'west', 'heat', 'bird', 'milk', 'rain', 'speed', 'sugar', 'stone', 'serve', 'river', 'pig', 'super', 'chat', 'cup', 'bee', 'among', 'angle', 'apple', 'above', 'bank', 'art', 'base', 'bear', 'bone', 'block', 'brown', 'carry', 'cost', 'cloud', 'cold', 'copy', 'cross', 'cow', 'cook', 'crowd', 'ear', 'east', 'edge', 'egg', 'farm', 'like', 'field', 'flat', 'foot', 'fresh', 'fruit', 'form', 'gas', 'gold', 'group', 'hat', 'hole', 'grow', 'horse', 'hunt', 'ice', 'iron', 'job', 'inch', 'lady', 'lake', 'land', 'leg', 'level', 'large', 'lift', 'main', 'march', 'map', 'many', 'bacon', 'gap', 'read', 'pan', 'lay', 'okay', 'made', 'rid', 'steal', 'dare', 'plus', 'teach', 'silly', 'trial', 'roll', 'dirty', 'radio', 'price', 'nut', 'total', 'crap', 'mood', 'guard', 'trick', 'arm', 'south', 'nurse', 'neck', 'raise', 'taste', 'lots', 'file', 'lock', 'spot', 'legal', 'fill', 'wine', 'forty', 'nope', 'pants', 'folks', 'freak', 'cream', 'focus', 'wild', 'desk', 'threw', 'truly', 'band', 'allow', 'grand', 'chair', 'harry', 'rough', 'shirt', 'going', 'empty', 'round', 'aware', 'hall', 'pack', 'tight', 'ship', 'guest', 'match', 'sun', 'naked', 'video', 'skin', 'often', 'held', 'issue', 'final', 'code', 'usual', 'burn', 'page', 'train', 'film', 'truck', 'split', 'bite', 'card', 'older', 'light', 'van', 'scare', 'beach', 'vote', 'spoke', 'tie', 'upon', 'rush', 'holy', 'staff', 'duty', 'loose', 'loud', 'army', 'blind', 'ugly', 'queen', 'sight', 'bride', 'coat', 'lips', 'size', 'moon', 'toast', 'sold', 'beg', 'roof', 'grade', 'pizza', 'fake', 'bout', 'sally', 'bomb', 'clue', 'shame', 'local', 'loser', 'scary', 'hook', 'port', 'merry', 'view', 'couch', 'loss', 'shock', 'crash', 'feed', 'north', 'knife', 'enemy', 'fan', 'drag', 'badly', 'paint', 'built', 'candy', 'warn', 'hire', 'post', 'dump', 'rent', 'trade', 'spare', 'aside', 'meat', 'pray', 'tip', 'jury', 'brave', 'storm', 'sexy', 'pie', 'shake', 'style', 'lousy', 'stage', 'weak', 'trash', 'slip', 'awake', 'race', 'deny', 'cheap', 'clock', 'tear', 'tiny', 'dig', 'draw', 'score', 'exact', 'harm', 'avoid', 'snow', 'fancy', 'shape', 'drove', 'stock', 'chest', 'camp', 'woke', 'juice', 'watch', 'wise', 'oil', 'doll', 'exist', 'noise', 'pair', 'sat', 'bike', 'peg', 'ate', 'joy', 'term', 'devil', 'what', 'meal', 'anger', 'wet', 'bail', 'dawn', 'hung', 'teeth', 'photo', 'chose', 'whom', 'rude', 'crack', 'model', 'radar', 'grew', 'soft', 'sky', 'chase', 'cast', 'fate', 'hug', 'prom', 'bury', 'unit', 'crew', 'peace', 'guts', 'terms', 'shoe', 'cabin', 'purse', 'wound', 'tall', 'odd', 'stake', 'sue', 'soup', 'chef', 'shift', 'nasty', 'male', 'plate', 'tour', 'argue', 'whip', 'laid', 'bust', 'pure', 'nerve', 'nail', 'hill', 'alarm', 'wash', 'bond', 'liar', 'dirt', 'damn', 'trap', 'rate', 'claim', 'lover', 'snake', 'gate', 'inn', 'wheel', 'bath', 'lane', 'ill', 'load', 'wide', 'swim', 'wood', 'math', 'grant', 'bread', 'dozen', 'duck', 'guide', 'mum', 'royal', 'wing', 'towel', 'habit', 'earn', 'event', 'forth', 'gum', 'title', 'niece', 'soap', 'beef', 'zoo', 'abuse', 'cope', 'beard', 'bin', 'bonus', 'brush', 'bake', 'deaf', 'delay', 'data', 'diary', 'dish', 'email', 'flow', 'fee', 'jam', 'keen', 'knee', 'fry', 'label', 'lack', 'lamp', 'lazy', 'lamb', 'leaf', 'lean', 'lend', 'log', 'lorry', 'major', 'mall', 'net', 'occur', 'ocean', 'pace', 'pale', 'pad', 'panic', 'path', 'range', 'pause', 'rail', 'rapid', 'rare', 'sail', 'react', 'salad', 'sand', 'sale', 'salt', 'scale', 'seal', 'sauce', 'seed', 'seek', 'tail', 'tale', 'tap', 'task', 'tax', 'taxi', 'tea', 'telly', 'vary', 'yard', 'wake', 'wage', 'vast', 'ward', 'link', 'wool', 'web', 'mouse', 'pub', 'pupil', 'limit', 'pool', 'plug', 'poem', 'rice', 'sheep', 'sheet', 'shelf', 'slice', 'shout', 'slim', 'sole', 'steak', 'spoon', 'text', 'toe', 'tube', 'tooth', 'via', 'tower', 'yet', 'youth', 'vine', 'had', 'decay', 'doze', 'litre', 'metre', 'noun', 'pride', 'solve', 'pine', 'mate', 'matt', 'con', 'punch', 'maid', 'mayor', 'sixty', 'bug', 'rat', 'pity', 'pen', 'coach', 'row', 'image', 'hers', 'role', 'gym', 'cruel', 'sneak', 'bull', 'mix', 'firm', 'pot', 'twins', 'swing', 'solid', 'crush', 'flash', 'gang', 'till', 'rise', 'skip', 'fail', 'plant', 'lower', 'bored', 'soda', 'suite', 'bat', 'yell', 'fifth', 'giant', 'sharp', 'nor', 'ash', 'cheer', 'flesh', 'adult', 'spike', 'thin', 'fever', 'sweat', 'prize', 'union', 'bless', 'fully', 'chip', 'zero', 'wolf', 'chill', 'joint', 'rob', 'grave', 'mixed', 'coast', 'cure', 'toy', 'brand', 'alien', 'curse', 'cloth', 'wore', 'spit', 'pilot', 'site', 'value', 'penny', 'dust', 'grief', 'bowl', 'virus', 'wreck', 'chain', 'wire', 'bound', 'charm', 'frame', 'boom', 'opera', 'vice', 'spin', 'civil', 'tool', 'wrap', 'loan', 'owner', 'fairy', 'print', 'motel', 'per', 'trace', 'enter', 'belt', 'heal', 'guilt', 'loyal', 'actor', 'plain', 'attic', 'pet', 'gross', 'badge', 'armed', 'trunk', 'kitty', 'zone', 'junk', 'host', 'cable', 'fund', 'tense', 'barn', 'sport', 'route', 'shown', 'china', 'torn', 'golf', 'spy', 'minor', 'ease', 'deck', 'creep', 'will', 'skill', 'thee', 'wave', 'pin', 'goal', 'mass', 'gig', 'diner', 'blast', 'basic', 'clown', 'snap', 'rub', 'prime', 'eaten', 'bay', 'gain', 'fed', 'shy', 'media', 'tend', 'alley', 'nap', 'bang', 'toss', 'tone', 'mob', 'award', 'boots', 'lobby', 'ego', 'thief', 'drama', 'noble', 'poker', 'trail', 'saint', 'liver', 'drawn', 'moral', 'flew', 'aisle', 'amen', 'pro', 'vow', 'darn', 'clay', 'user', 'pit', 'squad', 'piano', 'flag', 'debt', 'tag', 'strip', 'below', 'stamp', 'pound', 'pink', 'bum', 'tank', 'chips', 'wipe', 'realm', 'lap', 'neat', 'fox', 'anti', 'climb', 'hint', 'twist', 'lip', 'hip', 'handy', 'crawl', 'flip', 'fries', 'kit', 'thick', 'goose', 'cage', 'menu', 'hood', 'bean', 'sink', 'plea', 'side', 'frog', 'fog', 'hike', 'essay', 'jeans', 'bush', 'blink', 'adapt', 'acid', 'adopt', 'bid', 'bloke', 'slave', 'boil', 'brief', 'broad', 'bump', 'buyer', 'cap', 'cease', 'chap', 'chart', 'cheek', 'clerk', 'coal', 'click', 'coin', 'daft', 'daily', 'depth', 'diet', 'disk', 'fetch', 'fence', 'few', 'flood', 'fold', 'fork', 'fuel', 'gear', 'fuss', 'gene', 'graph', 'grass', 'hence', 'hold', 'ideal', 'imply', 'index', 'input', 'mud', 'novel', 'noisy', 'newly', 'organ', 'spoil', 'owe', 'prior', 'pour', 'brick', 'oven', 'pole', 'poet', 'plot', 'lit', 'pipe', 'pint', 'pill', 'pile', 'poll', 'peak', 'quote', 'ratio', 'refer', 'raw', 'sack', 'scope', 'seize', 'shell', 'shave', 'shine', 'shove', 'shrug', 'sin', 'skirt', 'slide', 'slope', 'sock', 'soil', 'spray', 'steel', 'straw', 'swap', 'tent', 'tidy', 'trend', 'ton', 'tin', 'tyre', 'tune', 'pond', 'urge', 'urban', 'used', 'vital', 'gut', 'jet', 'odds', 'tears', 'mania', 'cave', 'madam', 'gram', 'jean', 'barb', 'cheat', 'phony', 'hop', 'rich', 'alike', 'fax', 'twin', 'mask', 'dated', 'beast', 'Italy', 'tub', 'punk', 'alert', 'aid', 'wives', 'stink', 'exit', 'basis', 'costs', 'chop', 'scam', 'flu', 'fraud', 'pee', 'cliff', 'bunny', 'scout', 'shed', 'nanny', 'naive', 'corn', 'patch', 'metal', 'bow', 'booth', 'exam', 'apply', 'air', 'noon', 'donor', 'dial', 'swell', 'bench', 'facet', 'moron', 'gray', 'groom', 'lad', 'tiger', 'dense', 'puppy', 'Bible', 'slack', 'item', 'due', 'jay', 'aids', 'grip', 'phase', 'blank', 'tramp', 'inner', 'root', 'fond', 'leak', 'corky', 'tips', 'hid', 'June', 'drill', 'slap', 'yacht', 'oath', 'spa', 'horn', 'fried', 'bait', 'dive', 'sworn', 'burst', 'booze', 'chaos', 'ditch', 'bra', 'glow', 'skull', 'sob', 'harsh', 'bend', 'rage', 'chin', 'rug', 'earl', 'drank', 'bent', 'dull', 'foul', 'stunt', 'July', 'tore', 'pops', 'core', 'sword', 'belly', 'shark', 'loft', 'lawn', 'ashes', 'coke', 'scarf', 'ally', 'ace', 'rap', 'bare', 'leap', 'ken', 'gown', 'sandy', 'setup', 'blade', 'live', 'rape', 'pony', 'eager', 'stab', 'loop', 'sixth', 'worn', 'vault', 'tire', 'cozy', 'mill', 'risky', 'nest', 'suck', 'bald', 'steam', 'scar', 'baker', 'mid', 'topic', 'Greek', 'roast', 'altar', 'riot', 'goods', 'porch', 'ghost', 'drops', 'draft', 'dizzy', 'leery', 'ski', 'bribe', 'comic', 'rum', 'hush', 'fuzzy', 'sort', 'scan', 'mini', 'rod', 'motor', 'silk', 'wrist', 'nicer', 'pump', 'haul', 'dodge', 'boot', 'elder', 'thumb', 'lion', 'erase', 'ankle', 'ruby', 'tuna', 'minus', 'auto', 'snack', 'dip', 'tumor', 'wig', 'logic', 'turk', 'ham', 'equal', 'shore', 'palm', 'elect', 'widow', 'repay', 'hack', 'aim', 'jar', 'messy', 'bleed', 'entry', 'ding', 'folk', 'arson', 'frisk', 'whack', 'April', 'quiz', 'rack', 'wade', 'cough', 'sofa', 'drain', 'drown', 'envy', 'dock', 'state', 'jazz', 'solo', 'hawk', 'pitch', 'wee', 'zip', 'rocky', 'stir', 'robe', 'cent', 'stiff', 'crown', 'hunch', 'brass', 'lemon', 'creek', 'ethic', 'lodge', 'stud', 'goody', 'goat', 'adore', 'ninth', 'tuck', 'dough', 'upper', 'lick', 'teen', 'sunny', 'rear', 'sane', 'condo', 'nun', 'dealt', 'album', 'glove', 'funds', 'slam', 'pry', 'chew', 'grill', 'sober', 'dug', 'peel', 'cart', 'sting', 'deer', 'glue', 'wagon', 'asset', 'tan', 'robot', 'flame', 'rib', 'lease', 'knew', 'flush', 'smack', 'eagle', 'could', 'melt', 'burnt', 'sperm', 'pork', 'undo', 'daisy', 'choir', 'chess', 'fame', 'faint', 'pearl', 'heir', 'sang', 'alibi', 'shiny', 'mint', 'hobby', 'wit', 'hose', 'choke', 'rally', 'dot', 'buff', 'wax', 'irony', 'cock', 'dope', 'torch', 'prick', 'laser', 'clip', 'limb', 'marsh', 'deed', 'cigar', 'peek', 'medal', 'bore', 'beep', 'weed', 'weigh', 'herb', 'cycle', 'sip', 'fur', 'mug', 'hairy', 'rifle', 'scent', 'pose', 'fleet', 'fatal', 'mere', 'outer', 'navy', 'tease', 'sour', 'peach', 'nude', 'lid', 'heel', 'tutor', 'smash', 'steer', 'mild', 'shaft', 'grasp', 'wheat', 'stem', 'tide', 'tribe', 'ounce', 'dash', 'razor', 'oak', 'fare', 'scrub', 'orbit', 'spicy', 'abbey', 'myth', 'toll', 'arrow', 'fuse', 'elbow', 'ant', 'shade', 'onion', 'bloom', 'tempt', 'greed', 'stew', 'mend', 'obey', 'waist', 'lump', 'foam', 'vain', 'worm', 'spice', 'tenth', 'nod', 'dairy', 'frost', 'loaf', 'globe', 'dam', 'merit', 'limp', 'trim', 'pear', 'stern', 'grain', 'nosy', 'grape', 'herd', 'solar', 'heap', 'gulf', 'flee', 'lace', 'mist', 'zoom', 'mercy', 'vivid', 'rainy', 'flour', 'rust', 'ruler', 'renew', 'quid', 'queue', 'rely', 'reply', 'rope', 'rival', 'rural', 'spill', 'sore', 'spite', 'stall', 'stare', 'theme', 'sweep', 'tick', 'steep', 'tile', 'tray', 'acute', 'troop', 'vague', 'agile', 'ample', 'beak', 'been', 'bathe', 'bark', 'beige', 'being', 'blown', 'bind', 'blush', 'blend', 'bold', 'mock', 'burp', 'brag', 'vomit', 'calf', 'cane', 'cab', 'camel', 'canal', 'cargo', 'chalk', 'chore', 'clap', 'clash', 'cocoa', 'debut', 'kin', 'comb', 'comma', 'decoy', 'does', 'erupt', 'eject', 'etc.', 'cape', 'gasp', 'gave', 'font', 'expel', 'gaze', 'gel', 'given', 'groan', 'hardy', 'has', 'glory', 'haste', 'hut', 'idiom', 'ivory', 'kneel', 'knit', 'its', 'known', 'lily', 'lint', 'March', 'lying', 'May', 'means', 'moist', 'numb', 'obese', 'oily', 'mould', 'omit', 'onto', 'exile', 'paid', 'pail', 'opt', 'ours', 'paste', 'peer', 'pram', 'rinse', 'panel', 'rigid', 'weep', 'went', 'whale', 'width', 'windy', 'widen', 'wink', 'vat', 'vein', 'vowel', 'unite', 'verb', 'unity', 'tame', 'tulip', 'sauna', 'saw', 'sank', 'said', 'scold', 'slang', 'sieve', 'avail', 'sled', 'boast', 'jug', 'fir', 'lever', 'lard', 'libel', 'merge', 'miser', 'mute', 'owing', 'pat', 'muse', 'repel', 'skier', 'slum', 'snail', 'smith', 'thus', 'yield', 'breed']
  
//   // Use slice to take the last 7 numbers from the phone number
//   let newNumber = number.slice(-7)

//   // A kepyad to match the buttons on your phone.
//   let keypad = [0, 1, 'abc', 'def', 'ghi', 'jkl', 'mno', 'pqrs', 'tuv', 'wxyz']
//   let results = []  

//   // Define our recursive function; it takes in the index (starting at the end and moving down) and the current result string (defaulting to an empty string)
//   const permutateKeys = (index, res = '') => {
    
//     // Escape case for when we hit the end
//     if (index < 0) {

//       // Loop through the dictionary and see if the returned combination contains any word
//       for (let i = 0 ; i < dictionary.length; i++) {
        
//         // If we find a match, console log it
//         if (res.match(dictionary[i])) {
//           // Get the numbers that match the word to easily swap it out
//           let swap = newNumber.slice(res.indexOf(dictionary[i]), (res.indexOf(dictionary[i]) + dictionary[i].length))
//           // Replace the numbers found above with the word to create the vanity number.
//           let vanity = newNumber.replace(swap, dictionary[i])
//           // Add the area code back in since we were only searching the last 7 digits
//           vanity = number.slice(0, -7) + '-' + vanity
//           // If the results array doesn't include the vanity number, add it here; prevents duplicates
//           if (!results.includes(vanity)) {
//             results.push(vanity)
//           }
//         }
//       }
//       return
//     }

//     // This tells us which key we have pressed and which corresponding letters we have access to
//     let currentKey = newNumber[index];

//     // Loop through the keys and recursively build out the possible combinations
//     for (let i = 0; i < keypad[currentKey].length; i++) {
//       permutateKeys(index - 1, keypad[currentKey][i] + res)
//     }

//   }

//   // Start the recusrive function here
//   permutateKeys(newNumber.length - 1)


//   // Set a final results array
//   let finalResults = []

//   // Prevent an empty array in the case no matches are found (happens with my wife's number!)
//   if (!results.length) {
//     finalResults.push('No Matches!')
//   }

//   // Trim the array to 5 matches
//   if (results.length > 5) {
//     results.length = 5
//   }

//   // Loop through and push the top 5 matches to the new array
//   for (let i = 0; i < results.length; i++) {
//     finalResults.push(results[i])
//   }


//     const params = {
//         TableName: 'vanityNumber',
//         Item: {
//             callerNumber: JSON.stringify(number),
//             topFiveVanity: finalResults
//         },
//         "ReturnValues": "ALL_OLD"
//     }

//     params.Item.id = Date.now().toString()

//     await db.put(params).promise()
//     const response = {
//       statusCode: 200,
//       callerNumber: params.Item.callerNumber,
//       vanityOne: params.Item.topFiveVanity[0],
//       vanityTwo: params.Item.topFiveVanity[1],
//       vanityThree: params.Item.topFiveVanity[2]
//     }
    
//     return response;

// };


const lambda = (number) => {
  
  // I found a list of the 1,000 most common English words and filtered them down based length being at least 3, and at most 7. Check the 'words.js' file for the code I used to do this.
  
  // Okay wait, 1k words were not giving a lot of matches. I went with the first 5k, using the same filter as before
  let dictionary = ['you', 'the', 'for', 'have', 'just', 'not', 'was', 'your', 'with', 'this', 'all', 'about', 'well', 'get', 'right', 'here', 'her', 'she', 'out', 'can', 'and', 'now', 'him', 'but', 'why', 'one', 'see', 'come', 'good', 'they', 'back', 'from', 'when', 'were', 'that', 'his', 'who', 'want', 'then', 'say', 'way', 'never', 'sure', 'yes', 'more', 'our', 'sorry', 'there', 'where', 'down', 'some', 'over', 'man', 'very', 'much', 'even', 'life', 'any', 'thank', 'off', 'too', 'two', 'help', 'talk', 'God', 'wait', 'still', 'into', 'find', 'again', 'thing', 'call', 'maybe', 'told', 'great', 'night', 'first', 'than', 'away', 'fine', 'home', 'after', 'these', 'put', 'last', 'those', 'long', 'stop', 'big', 'lot', 'kind', 'wrong', 'new', 'care', 'guess', 'bad', 'mom', 'leave', 'place', 'dad', 'hear', 'baby', 'nice', 'else', 'let', 'their', 'might', 'mind', 'try', 'every', 'stay', 'came', 'hell', 'whole', 'house', 'only', 'idea', 'must', 'best', 'hello', 'old', 'woman', 'room', 'which', 'real', 'left', 'money', 'son', 'hope', 'same', 'name', 'happy', 'show', 'sir', 'girl', 'ever', 'next', 'three', 'world', 'honey', 'hurt', 'found', 'both', 'while', 'dead', 'ask', 'since', 'kill', 'start', 'hard', 'today', 'car', 'ready', 'may', 'took', 'deal', 'once', 'head', 'stuff', 'most', 'worry', 'part', 'truth', 'alone', 'until', 'cause', 'soon', 'wife', 'use', 'run', 'heart', 'bye', 'such', 'own', 'point', 'meet', 'phone', 'later', 'lost', 'look', 'case', 'trust', 'bring', 'wish', 'check', 'end', 'least', 'town', 'late', 'five', 'year', 'make', 'hate', 'ago', 'mean', 'play', 'fact', 'crazy', 'open', 'sit', 'party', 'rest', 'fun', 'day', 'glad', 'kid', 'each', 'bit', 'door', 'close', 'break', 'set', 'easy', 'far', 'mine', 'time', 'need', 'walk', 'shut', 'able', 'hit', 'stand', 'die', 'story', 'funny', 'four', 'news', 'cool', 'pay', 'child', 'half', 'young', 'yours', 'sleep', 'men', 'sonny', 'them', 'bed', 'lucky', 'pick', 'also', 'date', 'fire', 'line', 'lose', 'free', 'hand', 'ahead', 'fight', 'shit', 'move', 'past', 'cut', 'game', 'eat', 'sick', 'quite', 'death', 'along', 'safe', 'seem', 'upset', 'front', 'shot', 'hot', 'six', 'love', 'clear', 'drink', 'how', 'sense', 'sweet', 'alive', 'bet', 'blood', 'dear', 'sound', 'full', 'lie', 'fault', 'water', 'buy', 'ten', 'hour', 'women', 'speak', 'body', 'hang', 'think', 'order', 'worse', 'spend', 'send', 'power', 'sign', 'sex', 'boy', 'weird', 'hair', 'luck', 'touch', 'kiss', 'grace', 'white', 'crane', 'pain', 'fast', 'word', 'drive', 'food', 'none', 'work', 'marry', 'drop', 'frank', 'test', 'high', 'sent', 'city', 'poor', 'class', 'dream', 'mad', 'gun', 'dance', 'week', 'know', 'take', 'act', 'worth', 'piece', 'top', 'swear', 'busy', 'law', 'catch', 'less', 'black', 'movie', 'step', 'fall', 'admit', 'dog', 'win', 'evil', 'feel', 'miss', 'tired', 'eye', 'human', 'broke', 'red', 'calm', 'club', 'trip', 'blame', 'fair', 'court', 'clean', 'learn', 'prove', 'relax', 'small', 'table', 'smart', 'ring', 'mouth', 'shall', 'ride', 'team', 'shoot', 'wear', 'stick', 'angry', 'ray', 'write', 'buddy', 'early', 'nick', 'war', 'angel', 'jail', 'ran', 'lunch', 'music', 'eight', 'tape', 'tough', 'count', 'agree', 'proud', 'seven', 'share', 'bill', 'hurry', 'feet', 'offer', 'would', 'voice', 'list', 'cute', 'mess', 'Jesus', 'dress', 'hotel', 'quiet', 'enjoy', 'eve', 'road', 'short', 'fix', 'beat', 'near', 'bar', 'spent', 'gift', 'dark', 'pass', 'aunt', 'self', 'apart', 'floor', 'plan', 'box', 'earth', 'cover', 'sake', 'judge', 'worst', 'blow', 'mommy', 'plane', 'save', 'quick', 'stuck', 'store', 'ball', 'bag', 'blue', 'doubt', 'deep', 'lord', 'park', 'key', 'join', 'under', 'soul', 'crime', 'magic', 'uncle', 'joke', 'lead', 'cell', 'push', 'boss', 'rule', 'born', 'risk', 'song', 'boat', 'seat', 'hide', 'brain', 'nine', 'huge', 'age', 'sell', 'awful', 'dying', 'chief', 'quit', 'gay', 'faith', 'month', 'screw', 'visit', 'fool', 'sad', 'press', 'smell', 'spell', 'board', 'slow', 'rose', 'force', 'mark', 'space', 'fly', 'kick', 'grab', 'third', 'cat', 'other', 'fifty', 'mile', 'fat', 'rock', 'agent', 'bunch', 'idiot', 'track', 'shoes', 'scene', 'demon', 'low', 'face', 'drunk', 'tell', 'knock', 'cash', 'give', 'bell', 'nose', 'turn', 'keep', 'extra', 'beer', 'whose', 'type', 'book', 'wrote', 'king', 'waste', 'wall', 'jump', 'warm', 'pull', 'proof', 'suit', 'twice', 'drug', 'fit', 'begin', 'smile', 'ruin', 'fish', 'treat', 'laugh', 'amber', 'fear', 'guy', 'green', 'mail', 'pop', 'stole', 'paper', 'sing', 'note', 'tree', 'glass', 'shop', 'cry', 'bus', 'cake', 'reach', 'study', 'star', 'area', 'wind', 'dry', 'error', 'hero', 'build', 'are', 'add', 'sea', 'birth', 'heavy', 'west', 'heat', 'bird', 'milk', 'rain', 'speed', 'sugar', 'stone', 'serve', 'river', 'pig', 'super', 'chat', 'cup', 'bee', 'among', 'angle', 'apple', 'above', 'bank', 'art', 'base', 'bear', 'bone', 'block', 'brown', 'carry', 'cost', 'cloud', 'cold', 'copy', 'cross', 'cow', 'cook', 'crowd', 'ear', 'east', 'edge', 'egg', 'farm', 'like', 'field', 'flat', 'foot', 'fresh', 'fruit', 'form', 'gas', 'gold', 'group', 'hat', 'hole', 'grow', 'horse', 'hunt', 'ice', 'iron', 'job', 'inch', 'lady', 'lake', 'land', 'leg', 'level', 'large', 'lift', 'main', 'march', 'map', 'many', 'bacon', 'gap', 'read', 'pan', 'lay', 'okay', 'made', 'rid', 'steal', 'dare', 'plus', 'teach', 'silly', 'trial', 'roll', 'dirty', 'radio', 'price', 'nut', 'total', 'crap', 'mood', 'guard', 'trick', 'arm', 'south', 'nurse', 'neck', 'raise', 'taste', 'lots', 'file', 'lock', 'spot', 'legal', 'fill', 'wine', 'forty', 'nope', 'pants', 'folks', 'freak', 'cream', 'focus', 'wild', 'desk', 'threw', 'truly', 'band', 'allow', 'grand', 'chair', 'harry', 'rough', 'shirt', 'going', 'empty', 'round', 'aware', 'hall', 'pack', 'tight', 'ship', 'guest', 'match', 'sun', 'naked', 'video', 'skin', 'often', 'held', 'issue', 'final', 'code', 'usual', 'burn', 'page', 'train', 'film', 'truck', 'split', 'bite', 'card', 'older', 'light', 'van', 'scare', 'beach', 'vote', 'spoke', 'tie', 'upon', 'rush', 'holy', 'staff', 'duty', 'loose', 'loud', 'army', 'blind', 'ugly', 'queen', 'sight', 'bride', 'coat', 'lips', 'size', 'moon', 'toast', 'sold', 'beg', 'roof', 'grade', 'pizza', 'fake', 'bout', 'sally', 'bomb', 'clue', 'shame', 'local', 'loser', 'scary', 'hook', 'port', 'merry', 'view', 'couch', 'loss', 'shock', 'crash', 'feed', 'north', 'knife', 'enemy', 'fan', 'drag', 'badly', 'paint', 'built', 'candy', 'warn', 'hire', 'post', 'dump', 'rent', 'trade', 'spare', 'aside', 'meat', 'pray', 'tip', 'jury', 'brave', 'storm', 'sexy', 'pie', 'shake', 'style', 'lousy', 'stage', 'weak', 'trash', 'slip', 'awake', 'race', 'deny', 'cheap', 'clock', 'tear', 'tiny', 'dig', 'draw', 'score', 'exact', 'harm', 'avoid', 'snow', 'fancy', 'shape', 'drove', 'stock', 'chest', 'camp', 'woke', 'juice', 'watch', 'wise', 'oil', 'doll', 'exist', 'noise', 'pair', 'sat', 'bike', 'peg', 'ate', 'joy', 'term', 'devil', 'what', 'meal', 'anger', 'wet', 'bail', 'dawn', 'hung', 'teeth', 'photo', 'chose', 'whom', 'rude', 'crack', 'model', 'radar', 'grew', 'soft', 'sky', 'chase', 'cast', 'fate', 'hug', 'prom', 'bury', 'unit', 'crew', 'peace', 'guts', 'terms', 'shoe', 'cabin', 'purse', 'wound', 'tall', 'odd', 'stake', 'sue', 'soup', 'chef', 'shift', 'nasty', 'male', 'plate', 'tour', 'argue', 'whip', 'laid', 'bust', 'pure', 'nerve', 'nail', 'hill', 'alarm', 'wash', 'bond', 'liar', 'dirt', 'damn', 'trap', 'rate', 'claim', 'lover', 'snake', 'gate', 'inn', 'wheel', 'bath', 'lane', 'ill', 'load', 'wide', 'swim', 'wood', 'math', 'grant', 'bread', 'dozen', 'duck', 'guide', 'mum', 'royal', 'wing', 'towel', 'habit', 'earn', 'event', 'forth', 'gum', 'title', 'niece', 'soap', 'beef', 'zoo', 'abuse', 'cope', 'beard', 'bin', 'bonus', 'brush', 'bake', 'deaf', 'delay', 'data', 'diary', 'dish', 'email', 'flow', 'fee', 'jam', 'keen', 'knee', 'fry', 'label', 'lack', 'lamp', 'lazy', 'lamb', 'leaf', 'lean', 'lend', 'log', 'lorry', 'major', 'mall', 'net', 'occur', 'ocean', 'pace', 'pale', 'pad', 'panic', 'path', 'range', 'pause', 'rail', 'rapid', 'rare', 'sail', 'react', 'salad', 'sand', 'sale', 'salt', 'scale', 'seal', 'sauce', 'seed', 'seek', 'tail', 'tale', 'tap', 'task', 'tax', 'taxi', 'tea', 'telly', 'vary', 'yard', 'wake', 'wage', 'vast', 'ward', 'link', 'wool', 'web', 'mouse', 'pub', 'pupil', 'limit', 'pool', 'plug', 'poem', 'rice', 'sheep', 'sheet', 'shelf', 'slice', 'shout', 'slim', 'sole', 'steak', 'spoon', 'text', 'toe', 'tube', 'tooth', 'via', 'tower', 'yet', 'youth', 'vine', 'had', 'decay', 'doze', 'litre', 'metre', 'noun', 'pride', 'solve', 'pine', 'mate', 'matt', 'con', 'punch', 'maid', 'mayor', 'sixty', 'bug', 'rat', 'pity', 'pen', 'coach', 'row', 'image', 'hers', 'role', 'gym', 'cruel', 'sneak', 'bull', 'mix', 'firm', 'pot', 'twins', 'swing', 'solid', 'crush', 'flash', 'gang', 'till', 'rise', 'skip', 'fail', 'plant', 'lower', 'bored', 'soda', 'suite', 'bat', 'yell', 'fifth', 'giant', 'sharp', 'nor', 'ash', 'cheer', 'flesh', 'adult', 'spike', 'thin', 'fever', 'sweat', 'prize', 'union', 'bless', 'fully', 'chip', 'zero', 'wolf', 'chill', 'joint', 'rob', 'grave', 'mixed', 'coast', 'cure', 'toy', 'brand', 'alien', 'curse', 'cloth', 'wore', 'spit', 'pilot', 'site', 'value', 'penny', 'dust', 'grief', 'bowl', 'virus', 'wreck', 'chain', 'wire', 'bound', 'charm', 'frame', 'boom', 'opera', 'vice', 'spin', 'civil', 'tool', 'wrap', 'loan', 'owner', 'fairy', 'print', 'motel', 'per', 'trace', 'enter', 'belt', 'heal', 'guilt', 'loyal', 'actor', 'plain', 'attic', 'pet', 'gross', 'badge', 'armed', 'trunk', 'kitty', 'zone', 'junk', 'host', 'cable', 'fund', 'tense', 'barn', 'sport', 'route', 'shown', 'china', 'torn', 'golf', 'spy', 'minor', 'ease', 'deck', 'creep', 'will', 'skill', 'thee', 'wave', 'pin', 'goal', 'mass', 'gig', 'diner', 'blast', 'basic', 'clown', 'snap', 'rub', 'prime', 'eaten', 'bay', 'gain', 'fed', 'shy', 'media', 'tend', 'alley', 'nap', 'bang', 'toss', 'tone', 'mob', 'award', 'boots', 'lobby', 'ego', 'thief', 'drama', 'noble', 'poker', 'trail', 'saint', 'liver', 'drawn', 'moral', 'flew', 'aisle', 'amen', 'pro', 'vow', 'darn', 'clay', 'user', 'pit', 'squad', 'piano', 'flag', 'debt', 'tag', 'strip', 'below', 'stamp', 'pound', 'pink', 'bum', 'tank', 'chips', 'wipe', 'realm', 'lap', 'neat', 'fox', 'anti', 'climb', 'hint', 'twist', 'lip', 'hip', 'handy', 'crawl', 'flip', 'fries', 'kit', 'thick', 'goose', 'cage', 'menu', 'hood', 'bean', 'sink', 'plea', 'side', 'frog', 'fog', 'hike', 'essay', 'jeans', 'bush', 'blink', 'adapt', 'acid', 'adopt', 'bid', 'bloke', 'slave', 'boil', 'brief', 'broad', 'bump', 'buyer', 'cap', 'cease', 'chap', 'chart', 'cheek', 'clerk', 'coal', 'click', 'coin', 'daft', 'daily', 'depth', 'diet', 'disk', 'fetch', 'fence', 'few', 'flood', 'fold', 'fork', 'fuel', 'gear', 'fuss', 'gene', 'graph', 'grass', 'hence', 'hold', 'ideal', 'imply', 'index', 'input', 'mud', 'novel', 'noisy', 'newly', 'organ', 'spoil', 'owe', 'prior', 'pour', 'brick', 'oven', 'pole', 'poet', 'plot', 'lit', 'pipe', 'pint', 'pill', 'pile', 'poll', 'peak', 'quote', 'ratio', 'refer', 'raw', 'sack', 'scope', 'seize', 'shell', 'shave', 'shine', 'shove', 'shrug', 'sin', 'skirt', 'slide', 'slope', 'sock', 'soil', 'spray', 'steel', 'straw', 'swap', 'tent', 'tidy', 'trend', 'ton', 'tin', 'tyre', 'tune', 'pond', 'urge', 'urban', 'used', 'vital', 'gut', 'jet', 'odds', 'tears', 'mania', 'cave', 'madam', 'gram', 'jean', 'barb', 'cheat', 'phony', 'hop', 'rich', 'alike', 'fax', 'twin', 'mask', 'dated', 'beast', 'Italy', 'tub', 'punk', 'alert', 'aid', 'wives', 'stink', 'exit', 'basis', 'costs', 'chop', 'scam', 'flu', 'fraud', 'pee', 'cliff', 'bunny', 'scout', 'shed', 'nanny', 'naive', 'corn', 'patch', 'metal', 'bow', 'booth', 'exam', 'apply', 'air', 'noon', 'donor', 'dial', 'swell', 'bench', 'facet', 'moron', 'gray', 'groom', 'lad', 'tiger', 'dense', 'puppy', 'Bible', 'slack', 'item', 'due', 'jay', 'aids', 'grip', 'phase', 'blank', 'tramp', 'inner', 'root', 'fond', 'leak', 'corky', 'tips', 'hid', 'June', 'drill', 'slap', 'yacht', 'oath', 'spa', 'horn', 'fried', 'bait', 'dive', 'sworn', 'burst', 'booze', 'chaos', 'ditch', 'bra', 'glow', 'skull', 'sob', 'harsh', 'bend', 'rage', 'chin', 'rug', 'earl', 'drank', 'bent', 'dull', 'foul', 'stunt', 'July', 'tore', 'pops', 'core', 'sword', 'belly', 'shark', 'loft', 'lawn', 'ashes', 'coke', 'scarf', 'ally', 'ace', 'rap', 'bare', 'leap', 'ken', 'gown', 'sandy', 'setup', 'blade', 'live', 'rape', 'pony', 'eager', 'stab', 'loop', 'sixth', 'worn', 'vault', 'tire', 'cozy', 'mill', 'risky', 'nest', 'suck', 'bald', 'steam', 'scar', 'baker', 'mid', 'topic', 'Greek', 'roast', 'altar', 'riot', 'goods', 'porch', 'ghost', 'drops', 'draft', 'dizzy', 'leery', 'ski', 'bribe', 'comic', 'rum', 'hush', 'fuzzy', 'sort', 'scan', 'mini', 'rod', 'motor', 'silk', 'wrist', 'nicer', 'pump', 'haul', 'dodge', 'boot', 'elder', 'thumb', 'lion', 'erase', 'ankle', 'ruby', 'tuna', 'minus', 'auto', 'snack', 'dip', 'tumor', 'wig', 'logic', 'turk', 'ham', 'equal', 'shore', 'palm', 'elect', 'widow', 'repay', 'hack', 'aim', 'jar', 'messy', 'bleed', 'entry', 'ding', 'folk', 'arson', 'frisk', 'whack', 'April', 'quiz', 'rack', 'wade', 'cough', 'sofa', 'drain', 'drown', 'envy', 'dock', 'state', 'jazz', 'solo', 'hawk', 'pitch', 'wee', 'zip', 'rocky', 'stir', 'robe', 'cent', 'stiff', 'crown', 'hunch', 'brass', 'lemon', 'creek', 'ethic', 'lodge', 'stud', 'goody', 'goat', 'adore', 'ninth', 'tuck', 'dough', 'upper', 'lick', 'teen', 'sunny', 'rear', 'sane', 'condo', 'nun', 'dealt', 'album', 'glove', 'funds', 'slam', 'pry', 'chew', 'grill', 'sober', 'dug', 'peel', 'cart', 'sting', 'deer', 'glue', 'wagon', 'asset', 'tan', 'robot', 'flame', 'rib', 'lease', 'knew', 'flush', 'smack', 'eagle', 'could', 'melt', 'burnt', 'sperm', 'pork', 'undo', 'daisy', 'choir', 'chess', 'fame', 'faint', 'pearl', 'heir', 'sang', 'alibi', 'shiny', 'mint', 'hobby', 'wit', 'hose', 'choke', 'rally', 'dot', 'buff', 'wax', 'irony', 'cock', 'dope', 'torch', 'prick', 'laser', 'clip', 'limb', 'marsh', 'deed', 'cigar', 'peek', 'medal', 'bore', 'beep', 'weed', 'weigh', 'herb', 'cycle', 'sip', 'fur', 'mug', 'hairy', 'rifle', 'scent', 'pose', 'fleet', 'fatal', 'mere', 'outer', 'navy', 'tease', 'sour', 'peach', 'nude', 'lid', 'heel', 'tutor', 'smash', 'steer', 'mild', 'shaft', 'grasp', 'wheat', 'stem', 'tide', 'tribe', 'ounce', 'dash', 'razor', 'oak', 'fare', 'scrub', 'orbit', 'spicy', 'abbey', 'myth', 'toll', 'arrow', 'fuse', 'elbow', 'ant', 'shade', 'onion', 'bloom', 'tempt', 'greed', 'stew', 'mend', 'obey', 'waist', 'lump', 'foam', 'vain', 'worm', 'spice', 'tenth', 'nod', 'dairy', 'frost', 'loaf', 'globe', 'dam', 'merit', 'limp', 'trim', 'pear', 'stern', 'grain', 'nosy', 'grape', 'herd', 'solar', 'heap', 'gulf', 'flee', 'lace', 'mist', 'zoom', 'mercy', 'vivid', 'rainy', 'flour', 'rust', 'ruler', 'renew', 'quid', 'queue', 'rely', 'reply', 'rope', 'rival', 'rural', 'spill', 'sore', 'spite', 'stall', 'stare', 'theme', 'sweep', 'tick', 'steep', 'tile', 'tray', 'acute', 'troop', 'vague', 'agile', 'ample', 'beak', 'been', 'bathe', 'bark', 'beige', 'being', 'blown', 'bind', 'blush', 'blend', 'bold', 'mock', 'burp', 'brag', 'vomit', 'calf', 'cane', 'cab', 'camel', 'canal', 'cargo', 'chalk', 'chore', 'clap', 'clash', 'cocoa', 'debut', 'kin', 'comb', 'comma', 'decoy', 'does', 'erupt', 'eject', 'etc.', 'cape', 'gasp', 'gave', 'font', 'expel', 'gaze', 'gel', 'given', 'groan', 'hardy', 'has', 'glory', 'haste', 'hut', 'idiom', 'ivory', 'kneel', 'knit', 'its', 'known', 'lily', 'lint', 'March', 'lying', 'May', 'means', 'moist', 'numb', 'obese', 'oily', 'mould', 'omit', 'onto', 'exile', 'paid', 'pail', 'opt', 'ours', 'paste', 'peer', 'pram', 'rinse', 'panel', 'rigid', 'weep', 'went', 'whale', 'width', 'windy', 'widen', 'wink', 'vat', 'vein', 'vowel', 'unite', 'verb', 'unity', 'tame', 'tulip', 'sauna', 'saw', 'sank', 'said', 'scold', 'slang', 'sieve', 'avail', 'sled', 'boast', 'jug', 'fir', 'lever', 'lard', 'libel', 'merge', 'miser', 'mute', 'owing', 'pat', 'muse', 'repel', 'skier', 'slum', 'snail', 'smith', 'thus', 'yield', 'breed']
  
  // let dictionary = ['and', 'have', 'too', 'that', 'for', 'you', 'with', 'say', 'this', 'they', 'but', 'his', 'from', 'that', 'not', 'can’t', 'won’t', 'she', 'what', 'their', 'can', 'who', 'get', 'would', 'her', 'all', 'make', 'about', 'know', 'will', 'one', 'time', 'there', 'year', 'think', 'when', 'which', 'them', 'some', 'take', 'out', 'into', 'just', 'see', 'him', 'your', 'come', 'could', 'now', 'than', 'like', 'other', 'how', 'then', 'its', 'our', 'two', 'more', 'these', 'want', 'way', 'look', 'first', 'also', 'new', 'day', 'more', 'use', 'man', 'find', 'here', 'thing', 'give', 'many', 'well', 'only', 'those', 'tell', 'one', 'very', 'her', 'even', 'back', 'any', 'good', 'woman', 'life', 'child', 'there', 'work', 'down', 'may', 'after', 'call', 'world', 'over', 'still', 'try', 'last', 'ask', 'need', 'too', 'feel', 'three', 'when', 'state', 'never', 'high', 'most', 'much', 'own', 'out', 'leave', 'put', 'old', 'while', 'mean', 'keep', 'why', 'let', 'great', 'same', 'big', 'group', 'begin', 'seem', 'help', 'talk', 'where', 'turn', 'every', 'start', 'hand', 'might', 'show', 'part', 'about', 'place', 'over', 'such', 'again', 'few', 'case', 'most', 'week', 'where', 'each', 'right', 'hear', 'work', 'play', 'run', 'small', 'off', 'move', 'like', 'night', 'live', 'point', 'hold', 'today', 'bring', 'next', 'large', 'all', 'must', 'home', 'under', 'water', 'room', 'write', 'area', 'money', 'story', 'young', 'fact', 'month', 'lot', 'right', 'study', 'book', 'eye', 'job', 'word', 'issue', 'side', 'kind', 'four', 'head', 'far', 'black', 'long', 'both', 'house', 'yes', 'after', 'since', 'long', 'sit', 'away', 'until', 'power', 'hour', 'game', 'often', 'yet', 'line', 'end', 'among', 'ever', 'stand', 'bad', 'lose', 'pay', 'law', 'meet', 'car', 'city', 'set', 'later', 'much', 'name', 'five', 'once', 'white', 'least', 'learn', 'real', 'team', 'best', 'idea', 'kid', 'body', 'ago', 'right', 'lead', 'back', 'watch', 'only', 'stop', 'face', 'speak', 'read', 'level', 'allow', 'add', 'spend', 'door', 'art', 'sure', 'such', 'war', 'party', 'grow', 'open', 'walk', 'low', 'win', 'girl', 'guy', 'early', 'food', 'air', 'force', 'offer', 'both', 'foot', 'boy', 'maybe', 'able', 'age', 'off', 'love', 'music', 'buy', 'human', 'wait', 'serve', 'die', 'send', 'home', 'sense', 'build', 'stay', 'fall', 'plan', 'cut', 'death', 'reach', 'local', 'kill', 'six', 'use', 'yeah', 'class', 'raise', 'care', 'late', 'hard', 'field', 'else', 'pass', 'sell', 'major', 'along', 'role', 'rate', 'heart', 'drug', 'show', 'light', 'voice', 'wife', 'whole', 'mind', 'pull', 'free', 'price', 'less', 'son', 'hope', 'even', 'view', 'carry', 'town', 'road', 'drive', 'arm', 'true', 'break', 'thank', 'value', 'full', 'model', 'join', 'tax', 'early', 'agree', 'pick', 'wear', 'paper', 'space', 'form', 'event', 'whose', 'site', 'end', 'hit', 'base', 'star', 'table', 'need', 'court', 'eat', 'teach', 'oil', 'half', 'easy', 'cost', 'face', 'image', 'phone', 'data', 'cover', 'quite', 'clear', 'piece', 'land', 'wall', 'news', 'test', 'movie', 'north', 'love', 'open', 'third', 'catch', 'step', 'baby', 'type', 'draw', 'film', 'tree', 'red', 'cause', 'hair', 'look', 'point', 'soon', 'less', 'plant', 'term', 'short', 'place', 'rule', 'south', 'floor', 'well', 'call', 'close', 'risk', 'fire', 'wrong', 'bank', 'west', 'sport', 'board', 'seek', 'per', 'rest', 'deal', 'fight', 'throw', 'top', 'past', 'goal', 'bed', 'order', 'fill', 'focus', 'drop', 'plan', 'blood', 'upon', 'push', 'color', 'store', 'sound', 'note', 'fine', 'near', 'page', 'enter', 'share', 'than', 'poor', 'other', 'race', 'hot', 'each', 'dead', 'rise', 'shoot', 'east', 'save', 'seven', 'away', 'scene', 'stock', 'eight', 'thus', 'happy', 'lie', 'size', 'dog', 'fund', 'occur', 'media', 'ready', 'sign', 'list', 'hard', 'left', 'argue', 'cup', 'staff', 'loss', 'box', 'trade', 'deal', 'lay', 'bill', 'fail', 'name', 'sex', 'glass', 'skill', 'crime', 'stage', 'miss', 'sort', 'one', 'act', 'ten', 'gun', 'blue', 'state', 'force', 'truth', 'song', 'check', 'leg', 'dark', 'laugh', 'guess', 'set', 'study', 'prove', 'hang', 'rock', 'since', 'claim', 'note', 'help', 'close', 'sound', 'enjoy', 'legal', 'cold', 'form', 'final', 'main', 'green', 'card', 'above', 'seat', 'cell', 'nice', 'trial', 'that', 'firm', 'radio', 'visit', 'care', 'avoid', 'huge', 'ball', 'close', 'talk', 'onto', 'peace', 'head', 'base', 'pain', 'apply', 'play', 'wide', 'shake', 'fly', 'chair', 'fish', 'bit', 'top', 'treat', 'trip', 'unit', 'best', 'style', 'adult', 'worry', 'range', 'far', 'deep', 'front', 'edge', 'fear', 'sea', 'dream', 'bar', 'stuff', 'claim']

  // Use slice to take the last 7 numbers from the phone number
  let newNumber = number.slice(-7)

  // A kepyad to match the buttons on your phone.
  let keypad = ['a', 'a', 'abc', 'def', 'ghi', 'jkl', 'mno', 'pqrs', 'tuv', 'wxyz']
  let results = []  

  // Define our recursive function; it takes in the index (starting at the end and moving down) and the current result string (defaulting to an empty string)
  const permutateKeys = (index, res = '') => {
    
    // Escape case for when we hit the end
    if (index < 0) {

      // Loop through the dictionary and see if the returned combination contains any word
      for (let i = 0 ; i < dictionary.length; i++) {
        
        // If we find a match, console log it
        if (res.match(dictionary[i])) {
          // Get the numbers that match the word to easily swap it out
          let swap = newNumber.slice(res.indexOf(dictionary[i]), (res.indexOf(dictionary[i]) + dictionary[i].length))
          // Replace the numbers found above with the word to create the vanity number.
          let vanity = newNumber.replace(swap, dictionary[i])
          // Add the area code back in since we were only searching the last 7 digits
          vanity = number.slice(0, -7) + '-' + vanity
          // If the results array doesn't include the vanity number, add it here; prevents duplicates
          if (!results.includes(vanity)) {
            results.push(vanity)
          }
        }
      }
      return
    }

    // This tells us which key we have pressed and which corresponding letters we have access to
    let currentKey = newNumber[index];

    // Loop through the keys and recursively build out the possible combinations
    for (let i = 0; i < keypad[currentKey].length; i++) {
      permutateKeys(index - 1, keypad[currentKey][i] + res)
    }

  }

  // Start the recusrive function here
  permutateKeys(newNumber.length - 1)

  // Set a final results array
  let finalResults = []

  // Prevent an empty array in the case no matches are found (happens with my wife's number!)
  if (!results.length) {
    finalResults.push('No Matches!')
  }

  // Trim the array to 5 matches
  if (results.length > 5) {
    results.length = 5
  }

  // Loop through and push the top 5 matches to the new array
  for (let i = 0; i < results.length; i++) {
    finalResults.push(results[i])
  }

      const params = {
        TableName: 'vanityNumber',
        Item: {
            callerNumber: JSON.stringify(number),
            topFiveVanity: finalResults
        },
        "ReturnValues": "ALL_OLD"
    }

    params.Item.id = Date.now().toString()

//     await db.put(params).promise()

    const response = {
      statusCode: 200,
      callerNumber: params.Item.callerNumber,
      vanityOne: params.Item.topFiveVanity[0],
      vanityTwo: params.Item.topFiveVanity[1],
      vanityThree: params.Item.topFiveVanity[2]
    }
    
    console.log(response)

    return response;


}

// First call of the function; on AWS Lambda this will be called through Connect and the number will be passed in through the event.
lambda('1225544187')

module.exports = {lambda}